#!/bin/sh

input="${1:?Provide a file or text}"
shift
output="${1:-image.png}"

if [ -r "$input" ]; then
        input="$(cat "$input")"
fi

input="$(echo "$input" | fmt -csw 120)"

convert \
        -background black \
        -bordercolor black \
        -border 50 \
        -fill '#ddd' \
        -pointsize 25 \
        label:"$input" \
        "$output"

echo "Saved image to $output"
